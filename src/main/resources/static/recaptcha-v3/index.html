<!DOCTYPE html>
<!-- saved from url=(0012)about:srcdoc -->
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="apple-touch-icon" type="image/png"
          href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">
    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="shortcut icon" type="image/x-icon"
          href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">

    <link rel="mask-icon" type=""
          href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg"
          color="#111">
    <link rel="stylesheet" href="https://static.iskwen.com/layui-v2.5.5/layui/css/layui.css" media="all">
    <link href="https://static.iskwen.com/ly2ui-v2.0.0/css/ly2ui.css" rel="stylesheet">
    <style>
        .grecaptcha-badge {
            margin-right: auto;
            margin-left: auto;

        }

        #googleVerify {
            margin-right: auto;
            margin-left: auto;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            background: #95a5a6;
            background-image: url(http://subtlepatterns2015.subtlepatterns.netdna-cdn.com/patterns/dark_embroidery.png);
            font-family: 'Helvetica Neue', Arial, Sans-Serif;
        }

        html .login-wrap {
            position: relative;
            margin: 0 auto;
            background: #ecf0f1;
            width: 350px;
            border-radius: 5px;
            box-shadow: 3px 3px 10px #333;
            padding: 15px;
        }

        html .login-wrap h2 {
            text-align: center;
            font-weight: 200;
            font-size: 2em;
            margin-top: 10px;
            color: #34495e;
        }

        html .login-wrap .form {
            padding-top: 20px;
        }

        html .login-wrap .form input[type="text"],
        html .login-wrap .form input[type="password"],
        html .login-wrap .form button {
            width: 80%;
            margin-left: 10%;
            margin-bottom: 25px;
            height: 40px;
            border-radius: 5px;
            outline: 0;
            -moz-outline-style: none;
        }

        html .login-wrap .form input[type="text"],
        html .login-wrap .form input[type="password"] {
            border: 1px solid #bbb;
            padding: 0 0 0 10px;
            font-size: 14px;
        }

        html .login-wrap .form input[type="text"]:focus,
        html .login-wrap .form input[type="password"]:focus {
            border: 1px solid #3498db;
        }

        html .login-wrap .form a {
            text-align: center;
            font-size: 10px;
            color: #3498db;
        }

        html .login-wrap .form a p {
            padding-bottom: 10px;
        }

        html .login-wrap .form button {
            background: #e74c3c;
            border: none;
            color: white;
            font-size: 18px;
            font-weight: 200;
            cursor: pointer;
            transition: box-shadow .4s ease;
        }

        html .login-wrap .form button:hover {
            box-shadow: 1px 1px 5px #555;
        }

        html .login-wrap .form button:active {
            box-shadow: 1px 1px 7px #222;
        }

        html .login-wrap:after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            background: -webkit-linear-gradient(left, #27ae60 0%, #27ae60 20%, #8e44ad 20%, #8e44ad 40%, #3498db 40%, #3498db 60%, #e74c3c 60%, #e74c3c 80%, #f1c40f 80%, #f1c40f 100%);
            background: -moz-linear-gradient(left, #27ae60 0%, #27ae60 20%, #8e44ad 20%, #8e44ad 40%, #3498db 40%, #3498db 60%, #e74c3c 60%, #e74c3c 80%, #f1c40f 80%, #f1c40f 100%);
            height: 5px;
            border-radius: 5px 5px 0 0;
        }
    </style>

    <script>
        window.console = window.console || function (t) {
        };
    </script>


    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>


</head>

<body translate="no" data-new-gr-c-s-check-loaded="14.1010.0" data-gr-ext-installed="" style="">
<div class="login-wrap" style="margin-top: 198px;">
    <h2>Login</h2>

    <div class="form">
        <input type="text" placeholder="Username" autocomplete="off" id="username">
        <input type="password" placeholder="Password" id="password">
        <div id="googleVerify"></div>
        <br>
        <button onclick="login()"> Sign in</button>
    </div>
</div>
<script src='https://static.iskwen.com/jquery-v3.4.1/jquery-3.4.1.min.js'></script>
<script src="https://www.google.com/recaptcha/api.js?render=6LcLXtQaAAAAAA17EMSQM-lm2_TCLWpo47aGHwH3"></script>
<script src="https://static.iskwen.com/layui-v2.5.5/layui/layui.all.js"></script>
<script src="https://static.iskwen.com/ly2ui-v2.0.0/ly2ui.all.js?v=1620152181" charset="utf-8"></script>
<script id="rendered-js">
    var users = [
        {name: 'ianpirro'},
        {name: 'joeschmoe'},
        {name: 'superdev'}];


    var loginform = {

        init: function () {
            this.bindUserBox();
        },

        bindUserBox: function () {
            var result = {};

            $(".form").delegate("input[name='un']", 'blur', function () {
                var $self = $(this);

                // this grep would be replaced by $.post tp check db for user
                result = $.grep(users, function (elem, i) {
                    return elem.name == $self.val();
                });

                // This would be callback
                if (result.length === 1) {
                    if ($("div.login-wrap").hasClass('register')) {
                        loginform.revertForm();
                        return;
                    } else {
                        return;
                    }
                }

                if (!$("div.login-wrap").hasClass('register')) {
                    if ($("input[name='un']").val().length > 4)
                        loginform.switchForm();
                }

            });
        },
        switchForm: function () {
            var $html = $("div.login-wrap").addClass('register');
            $html.children('h2').html('Register');
            $html.find(".form input[name='pw']").after("<input type='password' placeholder='Re-type password' name='rpw' />");
            $html.find('button').html('Sign up');
            $html.find('a p').html('Have an account? Sign in');
        },
        revertForm: function () {
            var $html = $("div.login-wrap").removeClass('register');
            $html.children('h2').html('Login');
            $html.find(".form input[name='rpw']").remove();
            $html.find('button').html('Sign in');
            $html.find('a p').html("Don't have an account? Register");
        },
        submitForm: function () {
            // ajax to handle register or login
        }
    };

    // loginform {}


    // Init login form
    loginform.init();


    // vertical align box
    (function (elem) {
        elem.css("margin-top", Math.floor($(window).height() / 2 - elem.height() / 2));
    })($(".login-wrap"));

    $(window).resize(function () {
        $(".login-wrap").css("margin-top", Math.floor($(window).height() / 2 - $(".login-wrap").height() / 2));

    });
    //# sourceURL=pen.js
</script>
<script id="login.js">
    var onloadCallback = function () {
        grecaptcha.render('googleVerify', {
            'sitekey': '6LcLXtQaAAAAAA17EMSQM-lm2_TCLWpo47aGHwH3'
        })
    };
    function login() {
        let username = $("#username").val();
        let password = $("#password").val();
        if (username == "") {
            showTip("Account cannot be empty!");
            return;
        }
        if (password == "") {
            showTip("Password cannot be empty!");
            return;
        }
        grecaptcha.execute('6LcLXtQaAAAAAA17EMSQM-lm2_TCLWpo47aGHwH3', {action: 'login'}).then(function (token) {
            if (token == "") {
                showTip("Please complete robot verification first!");
                return;
            }
            $.ajax({
                url: "/api/recaptcha/v3/login",
                type: "POST",
                dataType: "json",
                data: "username=" + username + "&password=" + password + "&token=" + token,
                success: function (res) {
                    if (res.code === 200) {
                        console.log(res.data);
                        showAlert("Tips", res.data.result, 1);
                    } else {
                        showTip(res.msg);
                    }
                },
                error: function (XMLHttpRequest, textStatus, errorThrown) {
                    showErrorMsg("Something went wrong with the system, please try again later!")
                }
            })
        });
    }
</script>
</body>
</html>